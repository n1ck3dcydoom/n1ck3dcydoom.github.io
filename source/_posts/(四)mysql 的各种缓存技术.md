---
title: (四)mysql 的各种缓存技术
date: 2022-11-03 23:18:25
index_img: /img/mysql.png
categories:
  - mysql
tags:
  - 数据库
---

## 介绍一下 mysql 运用的各种缓存技术

所有的系统应用分层,为了加速数据的访问,都离不开缓存的使用

先介绍几个相关概念

#### 预读

操作系统有个很经典的理论,叫做 **局部性原理** ,意思就是说如果使用了一些数据,那么大概率接下来还会使用这些数据附近的其他数据

同时,磁盘的读写并不是按需读取,也就是说并不是需要什么数据就读取什么数据; 而是按照一定大小的页,一次性读取到内存当中,通常这个页的大小默认为 `4K` 

因为根据局部性原理,访问了数据 x 之后,大概率还会访问 x 附近的其他数据; 而如果是按需读取的话,在访问 x 之后,继续访问 y 和 z 又要进行磁盘操作,这无疑增大了 io 的消耗

对于按页读取 ,可以一次性将 x 所在的那一页都放到内存里,这样以后再访问 y 或者 z,就可以直接从内存里读取,无需磁盘操作

可能有疑问就是,如果 x 正好在当前页的最后一条记录,那么访问 y 或者 z 必然要再读取下一页; 实际上这种情况发生的概率非常小,即使如此,再读取下一页也比每次都访问磁盘的效率高得多,是值得接受的必要 io 消耗

mysql 为了利用磁盘按页读取的能力,在其内存缓冲池里面,也是按照页为单位来加载磁盘上的数据